<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script type="text/javascript">

// jQuery 개체에 있는 선택된 요소 각각에 대해서 
// 'on'의 값에 따라 name 인자에 해당하는 어트리뷰트 값을 'onValue' 또는 'offValue' 인자의 값으로 설정한다.
// 'on'이 생략된다면 각 요소의 어트리뷰트를 개별적으로 'onValue'나 'offValue'인자의 값으로 토글한다.
// 만일 선택된 값('onValue'나 'offValue' 인자 값중 하나) 이 null이거나 undefined이면 해당 어트리뷰트를 제거한다.
jQuery.fn.toggleAttr = function(name, onValue, offValue, on) {
	function set ($element, on) {
		var value = on ? onValue : offValue;
		return value == null ? $element.removeAttr(name) : $element.attr(name, value);
	}
	return on !== undefined ? set(this, on) :
	this.each(function (i, element) {
		var $element = $(element);
		set($element, $element.attr(name) !== onValue);
	});
};
</script>
	<title>attribute toggle</title>
</head>
<body>
<form>
	<input type="checkbox" name="vehicle" class="toggleme" value="Bike"/>Bike<br/><br/>
	<input type="checkbox" name="vehicle" class="toggleme" value="Bus"/>Bus<br/><br/>
	<input type="checkbox" name="vehicle" class="toggleme" value="Car"/>Car<br/><br/>
	<input type="checkbox" name="vehicle" class="toggleme" value="Subway"/>Subway<br/><br/>
</form>
	
	<input type="button" id="bt1" value="button1" /><br/><br/>
</body>
<script type="text/javascript">
// jQuery개체에서 선택된 모든 체크박스 요소를 체크하거나 또는 체크를 해제한다.
// 체크를 하지 않는다면 개별 요소의 체크 상태를 토글한다.
jQuery.fn.toggleCheck = function(check){
	return this.toggleAttr('checked', true, false, check);
};

$('#bt1').on("click", function(){
	console.log('bt1 clicked');
	$('.toggleme').toggleCheck();	
});

/*$('#bt1').click(function(){
	console.log('bt1 clicked');
	$('.toggleme').toggleCheck(true);
});*/
</script>
</html>